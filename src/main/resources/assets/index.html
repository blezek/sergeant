<!DOCTYPE html>
<html lang="en" ng-app="sergeantApp">
<head>
  <meta charset="utf-8">
  <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
</head>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js"></script>

<script src="js/sergeant.js"></script>

<body>

  <div class="container">
    <div class="page-header">
      <h1>sergeant<h1>
        <p class="lead">Sergeant is a simple <a href="http://dropwizard.github.io/dropwizard/">DropWizard</a> based web application to allow command line programs to be run as web services. Need <a href="help.html">help</a>?</p>
      </div>

      <div ng-controller="JobController">
        <h2>Jobs</h2>
        <table class="table table-striped">
          <thead>
            <tr>
              <td>Service</td>
              <td>StartTime</td>
              <td>Command Line</td>
              <td>Status</td>
              <td>Output</td>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="service in jobs | orderBy: 'startTimeInMillis':true">
              <td>{{service.endPoint}}</td>
              <td>{{service.startTime}}</td>
              <td>{{service.commandLine}}</td>
              <td>{{service.status}}</td>
              <td>{{service.output}}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <hr/>
      <div ng-controller="ServiceController">
        <h2>Services</h2>
        <table class="table table-striped">
          <thead>
            <tr>
              <td>Service</td>
              <td>Description</td>
              <td>Commandline</td>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="service in services | orderBy: 'endPoint' ">
              <td>{{service.endPoint}}</td>
              <td style="white-space: pre-wrap;">{{service.description}}</td>
              <td>{{service.commandLine.join(" ")}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </body>
